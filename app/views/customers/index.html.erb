<p id="notice"><%= notice %></p>

<h3>Import Customers</h3>
<%= form_tag import_customers_path, multipart: true do %>
  <%= file_field_tag :file %>
  <%= submit_tag "Upload File" %>
<% end %>
<br>
<h3>Export Customers (Total: <%= Customer.count %>): <%= link_to "CSV File", customers_path(format: "csv") %> </h3> 

<p>Sort by: 
<%= link_to "Full Name", customers_path(order: 'full_name') %>
<%= link_to "Vehicle Type", customers_path(order: 'vehicle_type') %>
<%= link_to "Vehicle Length", customers_path(order: 'vehicle_length') %>
</p>

<%= form_with url: customers_path, method: :get do |form| %>
  <%= form.label :search_by_first_name_or_last_name, "Search by Customer's First Name or Last Name:" %>
  <%= form.text_field :search_by_first_name_or_last_name %>
  <%= form.submit "Search" %>
<% end %>
<br>
<%= form_with url: customers_path, method: :get do |form| %>
  <%= form.label :search_vehicle_name, "Search by Vehicle Name:" %>
  <%= form.text_field :search_vehicle_name %>
  <%= form.submit "Search" %>
<% end %>
<br>
<%= form_with url: customers_path, method: :get do |form| %>
  <%= form.label :search_vehicle_type, "Search by Vehicle Type:" %>
  <%= form.text_field :search_vehicle_type %>
  <%= form.submit "Search" %>
<% end %>

<div class="media">
  <div class="media-body">
    <table class="table table-hover">
      <thead>
        <tr>
          <%# <th>First name</th>
          <th>Last name</th> %>
          <th>Full Name</th>
          <th>Email</th>
          <th>Vehicle Name</th>
          <th>Vehicle Type</th>
          <th>Vehicle Length</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @customers.each do |customer| %>
          <tr>
            <%# <td><%= customer.first_name %>
            <%# <td><%= customer.last_name %>
            <td><%= customer.full_name%></td>
            <td><%= customer.email %></td>
            <td><%= customer.vehicle_name %></td>
            <td><%= customer.vehicle_type %></td>
            <td><%= customer.vehicle_length %> Feet</td>
            <%# <td><%= link_to 'Destroy', customer, method: :delete, data: { confirm: 'Are you sure?' }</td> %>
            <td><%= button_to 'Destroy', customer, method: :delete %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

